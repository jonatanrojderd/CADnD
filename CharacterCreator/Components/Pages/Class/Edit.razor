@page "/edit-class/"
@inherits EditView

<div style="display: flex; flex-direction: row">
    <button style="padding: 0 0.5rem" @onclick="ViewModel.GoBackCommand.Execute">Go back</button>
    <h3 style="padding: 0 0.5rem">Edit @ViewModel.Class.Type Class</h3>
</div>

<div>
    <select @onchange="@(ViewModel.AbilityScoreChangedCommand.Execute)">
        @foreach (var abilityScore in ViewModel.AbilityScores)
        {
            if (ViewModel.Class.PrimeStat == abilityScore)
            {
                <option value="@abilityScore" selected>@abilityScore</option>
            }
            else
            {
                <option value="@abilityScore">@abilityScore</option>
            }
        }
    </select>
</div>

<div>
    <select @onchange="@(ViewModel.HitDieChangedCommand.Execute)">
        @{
            var value = 2;
            for (int i = 0; i <= 5; i++)
            {
                if (i == 5)
                {
                    value = 20;
                }
                else
                {
                    value += 2;
                }

                if (ViewModel.Class.HitDie == value)
                {
                    <option value="@value" selected>@($"d{value}")</option>
                }
                else
                {
                    <option value="@value">@($"d{value}")</option>
                }
            }
        }

        @* <option value="4">d4</option> *@
        @* <option value="6">d6</option> *@
        @* <option value="8">d8</option> *@
        @* <option value="10">d10</option> *@
        @* <option value="12">d12</option> *@
        @* <option value="20">d20</option> *@
    </select>
</div>

<button @onclick="ViewModel.SaveCommand.Execute">Save</button>